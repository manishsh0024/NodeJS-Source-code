<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body
    style="padding: 0; margin: 0; box-sizing: border-box; text-align: center;"
>
    <div class="container"
    style="
        display: flex;  justify-content: center ; align-items: center; height: 46.4vw;
        border: 1px solid; flex-direction: column;
        background-color: rgba(46, 136, 174, 0.442)
        "
    >
        <div class="container in"
            style="border-radius: 20px; box-shadow: 1px 1px 10px black; height: 50%; padding: 100px 50px 0 50px;
            background-color: rgba(46, 136, 174, 0.783);
            " 
        >
            <div id="weathercon">
                <i style=" color: rgb(255, 208, 0); font-size: 60px;" class="fa-solid fa-sun "></i>
            </div>
        
            <div class="info">
                <h2 class="location"><i class="fa-solid fa-street-view" style="color: rgb(35, 35, 213);"></i>{%location%},{%country%}</h2>
                <p id="date">WED | OCT | 10:49AM</p>
                <h1 class="temp">{%tempval%}&deg;C</h1>
                <h3 class="tempmin_max">Min {%tempmin%}&deg;C | Max {%tempmax%}&deg;C</h3>
            </div>
        </div>
    </div>


    <script>
        const curDate = document.getElementById("date");
        let weathercon = document.getElementById("weathercon");
        const temStatus = "{%ts%}";

        if(temStatus == "Sunny"){
            weathercon.innerHTML =  '<i style="font-size:60px; color: rgb(255, 208, 0);" class="fa-solid fa-sun "></i>'
        }else if(temStatus == "Clouds"){
            weathercon.innerHTML =  '<i style="color: #f1f2f6; font-size:60px;" class="fa-solid fa-cloud" ></i>'
        }else if(temStatus == "Rainy"){
            weathercon.innerHTML =  '<i style=" font-size:60px; color: #a4b0be;" class="fa-solid fa-cloud-showers-water" ></i>'
        }else{
            weathercon.innerHTML =  '<i style="font-size:60px; color:  #44c3de;" class =" fa-solid fa-cloud "></i>'
        }

        const getCurrentDay = () =>{
            var weekday = new Array(7);
            weekday[0] = "Sun"
            weekday[1] = "Mon"
            weekday[2] = "Tue"
            weekday[3] = "Wed"
            weekday[4] = "Thu"
            weekday[5] = "Fri"
            weekday[6] = "Sat"
            let currentTime = new Date();
                let day = weekday[currentTime.getDay()];
                return day;
        };

        const getCurrentTime = () =>{

            var months = [
                "jan",
                "fab",
                "Mar",
                "Apr",
                "May",
                "June",
                "July",
                "Aug",
                "Sept",
                "Oct",
                "Nov",
                "Dec"
            ];

            var now = new Date();
            var month = months[now.getMonth() + 1];
            var date = now.getDate();

            let hours = now.getHours();
            let mins = now.getMinutes();
            let periods = "AM";

            if(hours>11){
                periods = "PM"
                if(hours>12) hours -= 12;
            }
            if(mins<10){
                mins = "0" + mins ;
            }
            return `${month}${date} | ${hours}:${mins} ${periods}`;

            console.log(month + " / " + day)
        };

        curDate.innerHTML =  getCurrentDay() + " | " + getCurrentTime();
    </script>
</body>
</html>